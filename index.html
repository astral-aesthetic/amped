<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Amped - Gaming at Lightspeed | AI-Powered Game Creation Platform</title>
  <meta name="description" content="Transform your ideas into playable games with AI. Join thousands of creators building the future of interactive entertainment on Amped." />
  <meta name="keywords" content="AI game creation, game generator, Unity games, interactive entertainment, game development, Amped" />
  <meta property="og:title" content="Amped - Gaming at Lightspeed" />
  <meta property="og:description" content="Transform your ideas into playable games and earn rewards from the community." />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Amped AI Platform" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚡</text></svg>" />
  <script>
    // GitHub Pages SPA redirect handler
    (function(l) {
      if (l.search[1] === '/' ) {
        var decoded = l.search.slice(1).split('&').map(function(s) { 
          return s.replace(/~and~/g, '&')
        }).join('?');
        window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + decoded + l.hash
        );
      }
    }(window.location))
  </script>
  <script>
    // Fix asset paths for GitHub Pages deployment
    // This handles both relative paths (./models/x.glb) and absolute paths (/models/x.glb)
    (function() {
      console.log('[Asset Fixer] Initializing for GitHub Pages deployment');
      
      // Get the base URL for the site (handles both root and subdirectory deployments)
      var base = window.location.origin + window.location.pathname.replace(/\/[^/]*$/, '/');
      console.log('[Asset Fixer] Base URL:', base);

      // Helper to fix URLs - convert relative/absolute paths to full URLs
      function fixUrl(url) {
        if (typeof url === 'string') {
          // Skip data URLs, blob URLs, and already-absolute URLs
          if (url.startsWith('data:') || url.startsWith('blob:') || url.startsWith('http://') || url.startsWith('https://')) {
            return url;
          }
          
          // Handle relative paths starting with ./
          if (url.startsWith('./')) {
            var fixed = base + url.slice(2);
            console.log('[Asset Fixer] Fixed relative:', url, '→', fixed);
            return fixed;
          }
          
          // Handle absolute paths starting with /
          if (url.startsWith('/')) {
            var fixed = window.location.origin + url;
            console.log('[Asset Fixer] Fixed absolute:', url, '→', fixed);
            return fixed;
          }
          
          return url;
        }
        
        // Support Request objects for fetch
        if (url && typeof url === 'object' && 'url' in url) {
          var fixed = fixUrl(String(url.url || ''));
          if (fixed !== url.url) {
            return new Request(fixed, url);
          }
        }
        
        return url;
      }

      // Fix fetch
      var originalFetch = window.fetch;
      window.fetch = function(url, options) {
        return originalFetch(fixUrl(url), options);
      };

      // Fix XMLHttpRequest (used by Three.js FileLoader)
      var originalXHROpen = XMLHttpRequest.prototype.open;
      XMLHttpRequest.prototype.open = function(method, url, async, user, password) {
        try {
          url = fixUrl(url);
        } catch (e) {
          console.error('[Asset Fixer] XHR fix error:', e);
        }
        return originalXHROpen.apply(this, [method, url, async, user, password]);
      };

      // Fix image sources via property
      var originalImageSrc = Object.getOwnPropertyDescriptor(HTMLImageElement.prototype, 'src');
      Object.defineProperty(HTMLImageElement.prototype, 'src', {
        get: function() {
          return originalImageSrc.get.call(this);
        },
        set: function(value) {
          originalImageSrc.set.call(this, fixUrl(value));
        }
      });

      // Fix setAttribute for all elements
      var originalSetAttribute = Element.prototype.setAttribute;
      Element.prototype.setAttribute = function(name, value) {
        if ((name === 'src' || name === 'href') && this.tagName !== 'SCRIPT' && this.tagName !== 'LINK') {
          value = fixUrl(value);
        }
        return originalSetAttribute.call(this, name, value);
      };
      
      console.log('[Asset Fixer] Setup complete - monitoring fetch, XHR, img.src, and setAttribute');
    })();
  </script>
  <!-- Runtime Three.js material override hook for matte gunner model -->
  <script>
    // Hook Three.js to override gunner model materials after load
    window.__FORCE_MATTE_GUNNER__ = true;
    
    // Monkey-patch GLTFLoader traverse to intercept material setup
    (function() {
      var checkInterval = setInterval(function() {
        if (window.THREE && window.THREE.MeshStandardMaterial) {
          clearInterval(checkInterval);
          
          // Store original setters
          var originalMetalnessSetter = Object.getOwnPropertyDescriptor(window.THREE.MeshStandardMaterial.prototype, 'metalness').set;
          var originalRoughnessSetter = Object.getOwnPropertyDescriptor(window.THREE.MeshStandardMaterial.prototype, 'roughness').set;
          var originalEnvMapIntensitySetter = Object.getOwnPropertyDescriptor(window.THREE.MeshStandardMaterial.prototype, 'envMapIntensity').set;
          
          // Override setters to enforce matte for gunner materials
          Object.defineProperty(window.THREE.MeshStandardMaterial.prototype, 'metalness', {
            get: function() { return this._metalness || 0; },
            set: function(value) {
              // Force matte for gunner model (detected by blue color)
              if (window.__FORCE_MATTE_GUNNER__ && this.color && this.color.getHexString && this.color.getHexString().match(/7aa2ff/i)) {
                this._metalness = 0;
              } else {
                this._metalness = value;
              }
              if (originalMetalnessSetter) originalMetalnessSetter.call(this, this._metalness);
            }
          });
          
          Object.defineProperty(window.THREE.MeshStandardMaterial.prototype, 'roughness', {
            get: function() { return this._roughness !== undefined ? this._roughness : 1; },
            set: function(value) {
              if (window.__FORCE_MATTE_GUNNER__ && this.color && this.color.getHexString && this.color.getHexString().match(/7aa2ff/i)) {
                this._roughness = 1;
              } else {
                this._roughness = value;
              }
              if (originalRoughnessSetter) originalRoughnessSetter.call(this, this._roughness);
            }
          });
          
          Object.defineProperty(window.THREE.MeshStandardMaterial.prototype, 'envMapIntensity', {
            get: function() { return this._envMapIntensity !== undefined ? this._envMapIntensity : 1; },
            set: function(value) {
              if (window.__FORCE_MATTE_GUNNER__ && this.color && this.color.getHexString && this.color.getHexString().match(/7aa2ff/i)) {
                this._envMapIntensity = 0;
              } else {
                this._envMapIntensity = value;
              }
              if (originalEnvMapIntensitySetter) originalEnvMapIntensitySetter.call(this, this._envMapIntensity);
            }
          });
        }
      }, 50);
    })();
  </script>
  
  <!-- Cache-busting query to avoid stale GH Pages caches after hot edits -->
  <script type="module" crossorigin src="./assets/index-B_LgNMPL.js?v=20251038"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-DXfxkgxF.css?v=20251038">
</head>

<body>
  <div id="root"></div>
</body>

</html>